{% extends 'base.html' %}

{% block content %}

<nav class="navbar navbar-expand-lg navbar-dark" style="background-color: gray;">
    <div class="container-fluid">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
                <a class="navbar-brand">
                    Hi, {{username}}
                </a>
            </li>
            <li class="nav-item">
                <button class="btn btn-light btn-outline-warning btn-sm"><a href="{% url 'todolist:create_task' %}">Create Task</a></button>
                <button class="btn btn-light btn-outline-danger btn-sm" type="button"><a href="{% url 'todolist:logout' %}">Logout</a></button>
            </li>
        </ul>
    </div>
</nav>

<div class="row row-cols-1 row-cols-md-5 g-4 my-auto">
{% for task in todolist %}
<div class="card text-center mx-auto my-3 mb-3" style="border-radius: 10px; width: 15rem; background-color: bisque;">
    <div class="card-body">
      <h5 class="card-title">{{task.user}}</h5>
      <h6 class="card-subtitle mb-2" style="margin-top:5px;">{{task.title}} - {{task.date}}</h6>
      <p class="card-text">{{task.description}}</p>
      <div class="custom-control custom-checkbox">
        
        <input type="checkbox" class="custom-control-input" onclick="location.href=`{% url 'todolist:update_finished' task.id %}`" {% if task.is_finished %} checked {% endif %}>
        <label class="custom-control-label" for="#">Task Status</label>
    </div>
    <button class="btn btn-outline-danger btn-sm" style="margin-top: 3px ; margin-bottom: -5px; ;"><a href="{% url 'todolist:delete_task' task.id %}">Delete Task</a></button>
    </div>
  </div>

{% endfor %}
</div>

{% endblock content %}